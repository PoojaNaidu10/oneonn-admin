(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{676:function(e,t,r){var content=r(694);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("61d1dd60",content,!0,{sourceMap:!1})},694:function(e,t,r){var o=r(19)((function(i){return i[1]}));o.push([e.i,'.theme--light.v-card{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-card>.v-card__subtitle,.theme--light.v-card>.v-card__text{color:rgba(0,0,0,.6)}.theme--dark.v-card{background-color:#1e1e1e;color:#fff}.theme--dark.v-card>.v-card__subtitle,.theme--dark.v-card>.v-card__text{color:hsla(0,0%,100%,.7)}.v-sheet.v-card{border-radius:4px}.v-sheet.v-card:not(.v-sheet--outlined){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-sheet.v-card.v-sheet--shaped{border-radius:24px 4px}.v-card{border-width:thin;display:block;max-width:100%;outline:none;-webkit-text-decoration:none;text-decoration:none;transition-property:box-shadow,opacity;word-wrap:break-word;position:relative;white-space:normal}.v-card>.v-card__progress+:not(.v-btn):not(.v-chip):not(.v-avatar),.v-card>:first-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-top-left-radius:inherit;border-top-right-radius:inherit}.v-card>:last-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-card__progress{left:0;overflow:hidden;right:0;top:0}.v-card__subtitle+.v-card__text{padding-top:0}.v-card__subtitle,.v-card__text{font-size:.875rem;font-weight:400;letter-spacing:.0071428571em;line-height:1.375rem}.v-card__subtitle,.v-card__text,.v-card__title{padding:16px}.v-card__title{align-items:center;display:flex;flex-wrap:wrap;font-size:1.25rem;font-weight:500;letter-spacing:.0125em;line-height:2rem;word-break:break-all}.v-card__title+.v-card__subtitle,.v-card__title+.v-card__text{padding-top:0}.v-card__title+.v-card__subtitle{margin-top:-16px}.v-card__text{width:100%}.v-card__actions{align-items:center;display:flex;padding:8px}.v-card__actions>.v-btn.v-btn{padding:0 8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn+.v-btn{margin-left:8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--left{margin-left:4px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--right{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn+.v-btn{margin-right:8px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--left{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--right{margin-left:4px}.v-card--flat{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-sheet.v-card--hover{cursor:pointer;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1)}.v-sheet.v-card--hover:focus,.v-sheet.v-card--hover:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.v-card--link,.v-card--link .v-chip{cursor:pointer}.v-card--link:focus:before{opacity:.08}.v-card--link:before{background:currentColor;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.v-card--disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-card--disabled>:not(.v-card__progress){opacity:.6;transition:inherit}.v-card--loading{overflow:hidden}.v-card--raised{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}',""]),o.locals={},e.exports=o},859:function(e,t,r){"use strict";r.r(t);var o=r(656),n=r(675),l=r(674),c=r(703),d=r(735),v=r(184),h=r(946),m=r(753),_=(r(9),r(13),r(16),r(17),r(11),r(6),r(12),r(18)),f=r(28),x=r(3),y=(r(97),r(146)),w=r(727);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(x.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j={data:function(){return{HomeScreenAPI:w.a,isValid:!1,payload:{type:"",image:"",position:0},errorMessages:{image:""},rules:{required:function(e){return!!e||"This field is required"},notnull:function(e){return null!==e&&""!==e||"This field is required"},notNegative:function(e){return e>=0||"Please enter a non-negative number"}}}},watch:{edit:{handler:function(e,t){e?(this.payload=O(O({},this.payload),this.content),this.payload.banner_id=this.content._id,delete this.payload.__v,delete this.payload._id,delete this.payload.createdAt,delete this.payload.updatedAt):this.ResetForm()},immediate:!0}},props:{content:{type:Object},edit:{type:Boolean,default:!1}},methods:{AddEditData:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.form.validate(),r=e.isImagesValidated(["image"]),console.log("image",e.payload.image.imageUrl),!e.isValid||!r){t.next=29;break}return t.next=6,e.isPositionExists();case 6:if(t.sent){t.next=28;break}if(null!==(o=e.payload)&&void 0!==o&&null!==(o=o.image)&&void 0!==o&&o.imageUrl&&(e.payload.image=e.payload.image.imageUrl),t.prev=8,!e.edit){t.next=15;break}return t.next=12,w.a.update_banner_list(O(O({},e.payload),{},{banner_id:e.payload.banner_id}));case 12:e.$emit("close_edit"),t.next=18;break;case 15:return console.log("this.payload",e.payload),t.next=18,w.a.add_homescreen_data(O({},e.payload));case 18:e.ResetForm(),e.$emit("change"),e.$emit("close"),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(8),console.log(t.t0);case 26:t.next=29;break;case 28:e.$store.dispatch("ActivateSnackBar",{state:!0,color:"red darken-4",msg:"Position Not Available"});case 29:case"end":return t.stop()}}),t,null,[[8,23]])})))()},isImagesValidated:function(e){var t=this,r=!0;return Object(y.map)(e,(function(e){if("string"==typeof t.payload[e])console.log("inside of if"),t.errorMessages[e]=t.payload[e]?"":"This is required",r=r&&!!t.payload[e];else if("object"===Object(_.a)(t.payload[e])){var o,n,l;console.log("inside of else if"),t.errorMessages[e]=null!==(o=t.payload)&&void 0!==o&&o.image.imageUrl?"":"This is required",console.log("payload lenth",t.errorMessages[e]),console.log("pyalod lenth",null===(n=t.payload)||void 0===n?void 0:n.image.imageUrl),r=r&&!(null===(l=t.payload)||void 0===l||!l.image.imageUrl)}})),r},isPositionExists:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.checkBannerPositionExistence({position:parseInt(e.payload.position)});case 3:return r=t.sent,t.abrupt("return",r.data.payload.isExist);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},ResetForm:function(){var e;this.payload={type:"",image:"",position:0},null===(e=this.$refs)||void 0===e||null===(e=e.form)||void 0===e||e.resetValidation()},CloseForm:function(){this.edit&&(this.ResetForm(),this.$emit("close_edit")),this.$emit("close")}},mounted:function(){this.$nextTick((function(){}))}},P=r(43),component=Object(P.a)(j,(function(){var e=this,t=e._self._c;return t(n.a,{staticClass:"pa-4"},[t(h.a,[t(c.a,{staticClass:"text-center"},[t("span",{staticClass:"text-h5"},[e._v(e._s(e.edit?"Edit":"Add")+" Homescreen - Banner")])]),e._v(" "),t(c.a,{staticClass:"text-right",attrs:{cols:"2"}},[t(o.a,{attrs:{icon:""},on:{click:e.CloseForm}},[t(v.a,[e._v("mdi-close")])],1)],1)],1),e._v(" "),t(l.b,[t(d.a,{ref:"form",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[t(h.a,[t(c.a,{attrs:{cols:"6"}},[t("label",[e._v("Desktop Banner"),t("sup",{staticClass:"red--text"},[e._v("*")])]),e._v(" "),t("FormElementsFileInput",{attrs:{errorMessage:e.errorMessages.image,UploadAPI:e.HomeScreenAPI.add_homescreen_image},on:{change:function(t){return e.isImagesValidated(["image"])}},model:{value:e.payload.image,callback:function(t){e.$set(e.payload,"image",t)},expression:"payload.image"}})],1),e._v(" "),t(c.a,{attrs:{cols:"6"}},[t("label",{staticClass:"mb-3"},[e._v("Type "),t("span",{staticClass:"red--text"},[e._v("*")])]),e._v(" "),t(m.a,{attrs:{outlined:"",rules:[e.rules.required]},model:{value:e.payload.type,callback:function(t){e.$set(e.payload,"type",t)},expression:"payload.type"}})],1),e._v(" "),t(c.a,{attrs:{cols:"6"}},[t("label",[e._v("Position")]),e._v(" "),t(m.a,{attrs:{outlined:"",type:"number","persistent-hint":"","hide-spin-buttons":"",placeholder:"Enter Position",rules:[e.rules.notnull,e.rules.notNegative]},model:{value:e.payload.position,callback:function(t){e.$set(e.payload,"position",t)},expression:"payload.position"}})],1)],1),e._v(" "),t("small",[e._v("*indicates required field")])],1)],1),e._v(" "),t(l.a,[t("div",{staticClass:"mx-auto mt-3"},[t(o.a,{staticClass:"mr-2 white--text",attrs:{color:"grey"},on:{click:e.CloseForm}},[e._v(" Cancel ")]),e._v(" "),t(o.a,{staticClass:"mr-2 white--text",attrs:{color:"design"},on:{click:e.AddEditData}},[e._v("\n\t\t\t\t"+e._s(e.edit?"Update":"Submit")+"\n\t\t\t")])],1)])],1)}),[],!1,null,"ae9cefa2",null);t.default=component.exports;installComponents(component,{FormElementsFileInput:r(712).default})}}]);